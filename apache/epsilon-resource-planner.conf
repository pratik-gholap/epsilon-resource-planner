Define APACHE_LOG_DIR logs
WSGIApplicationGroup  %{GLOBAL}
<VirtualHost *:80>
    ServerName resource-planner.example.com
    #Redirect permanent / https://resource-planner.example.com/
    WSGIScriptAlias / "D:/Epsilon Resource Planner Project/react-main  branch/epsilon-resource-planner/backend/app.wsgi"

    <Directory "D:/Epsilon Resource Planner Project/react-main  branch/epsilon-resource-planner/backend">
        Options -Indexes +FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>
    
   # SSLEngine on
    # Update these paths to your local certificate/key locations.
    #SSLCertificateFile "${SRVROOT}/conf/certs/resource-planner.crt"
    #SSLCertificateKeyFile "${SRVROOT}/conf/certs/resource-planner.key"

    # Mutual TLS
    #SSLVerifyClient none
    #SSLVerifyDepth 2
   # SSLCACertificateFile "${SRVROOT}/conf/certs/client-ca.crt"

    # React build
    #DocumentRoot "D:/Epsilon Resource Planner Project/react-main  branch/epsilon-resource-planner/frontend/dist"
    # <Directory "D:/Epsilon Resource Planner Project/react-main  branch/epsilon-resource-planner/frontend/dist">
    #     Options -Indexes +FollowSymLinks
    #     AllowOverride None
    #     Require all granted
    # </Directory>

    # SPA routing
    #RewriteEngine On
    #RewriteCond %{REQUEST_FILENAME} !-f
    #RewriteCond %{REQUEST_FILENAME} !-d
    #RewriteRule ^ /index.html [L]

    # API reverse proxy (uWSGI backend)
    #ProxyPreserveHost On
    #ProxyPass /api/ http://resource-planner.feexample.com:81/api/
    #ProxyPassReverse /api/ http://resource-planner.feexample.com:81/api/

    # Rate limiting (mod_ratelimit)
    #SetOutputFilter RATE_LIMIT
    #SetEnv rate-limit 400

    ErrorLog ${APACHE_LOG_DIR}/epsilon-resource-planner_error.log
    CustomLog ${APACHE_LOG_DIR}/epsilon-resource-planner_access.log combined
</VirtualHost>
<VirtualHost *:81>
    ServerName resource-planner.feexample.com
    #Redirect permanent / https://resource-planner.example.com/
    #Alias /config.js "D:/Epsilon Resource Planner Project/react-main  branch/epsilon-resource-planner/frontend/dist/config.js"
    DocumentRoot "D:/Epsilon Resource Planner Project/react-main  branch/epsilon-resource-planner/frontend/dist"
    <Directory "D:/Epsilon Resource Planner Project/react-main  branch/epsilon-resource-planner/frontend/dist">
        Options -Indexes +FollowSymLinks
        AllowOverride None
        Require all granted

        # SPA routing
        RewriteEngine On
        RewriteBase /
        RewriteRule ^config\.js$ - [L]
        RewriteRule ^api/ - [L]
        # DO NOT rewrite /api/* to index.html
        #RewriteCond %{REQUEST_URI} ^/api/ [NC]
        RewriteRule .* - [L]

        RewriteCond %{REQUEST_FILENAME} -f [OR]
        RewriteCond %{REQUEST_FILENAME} -d
        RewriteRule ^ - [L]

        RewriteRule ^ /index.html [L]
    </Directory>
    #SSLEngine on
    # Update these paths to your local certificate/key locations.
    #SSLCertificateFile "${SRVROOT}/conf/certs/resource-planner.crt"
    #SSLCertificateKeyFile "${SRVROOT}/conf/certs/resource-planner.key"

    # Mutual TLS
   # SSLVerifyClient none
    #SSLVerifyDepth 2
   # SSLCACertificateFile "${SRVROOT}/conf/certs/client-ca.crt"

    ProxyPreserveHost On
    ProxyPass /api/ http://resource-planner.example.com:80/api/
    ProxyPassReverse /api/ http://resource-planner.feexample.com:81/api/
    ErrorLog "${APACHE_LOG_DIR}/epsilon-resource-planner-FE_error.log"
    CustomLog "${APACHE_LOG_DIR}/epsilon-resource-planner-FE_access.log" combined
</VirtualHost>