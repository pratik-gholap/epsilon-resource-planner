<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resource Planner - Architecture</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            max-width: 1200px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .diagram {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 30px 0;
        }
        .component {
            border: 2px solid #4CAF50;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background: #f9fff9;
        }
        .component h2 {
            margin: 0 0 10px 0;
            color: #4CAF50;
        }
        .component ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .arrow {
            text-align: center;
            font-size: 24px;
            color: #666;
            margin: 10px 0;
        }
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .tech-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #2196F3;
        }
        .tech-card h3 {
            margin: 0 0 10px 0;
            color: #2196F3;
        }
    </style>
</head>
<body>
    <h1>üèóÔ∏è Resource Planner Architecture</h1>

    <div class="diagram">
        <div class="component">
            <h2>üë§ User (Browser)</h2>
            <p>Interacts with the web interface</p>
            <ul>
                <li>Views timeline and resource data</li>
                <li>Adds/edits/deletes people, clients, projects</li>
                <li>Uploads CSV files</li>
                <li>Navigates through time periods</li>
            </ul>
        </div>

        <div class="arrow">‚¨áÔ∏è HTTP Requests</div>

        <div class="component">
            <h2>üé® Frontend (resource-planner.html)</h2>
            <p>Single-page web application</p>
            <ul>
                <li>JavaScript application running in browser</li>
                <li>Makes API calls to backend</li>
                <li>Renders timeline visualization</li>
                <li>Handles user interactions</li>
                <li>Processes CSV uploads</li>
            </ul>
            <strong>Tech:</strong> HTML, CSS, JavaScript (Vanilla - no frameworks)
        </div>

        <div class="arrow">‚¨áÔ∏è REST API Calls (http://localhost:5000/api)</div>

        <div class="component">
            <h2>‚öôÔ∏è Backend (backend.py)</h2>
            <p>Flask REST API server</p>
            <ul>
                <li>Handles CRUD operations</li>
                <li>Validates requests</li>
                <li>Manages database connections</li>
                <li>Returns JSON responses</li>
                <li>Enables CORS for browser access</li>
            </ul>
            <strong>Tech:</strong> Python 3, Flask, Flask-CORS
        </div>

        <div class="arrow">‚¨áÔ∏è SQL Queries</div>

        <div class="component">
            <h2>üóÑÔ∏è Database (resource_planner.db)</h2>
            <p>SQLite database file</p>
            <ul>
                <li>Stores all application data</li>
                <li>4 tables: people, clients, projects, assignments</li>
                <li>Automatic persistence</li>
                <li>No setup required</li>
                <li>Single file storage</li>
            </ul>
            <strong>Tech:</strong> SQLite 3
        </div>
    </div>

    <div class="note">
        <strong>üí° How it Works:</strong><br>
        1. User opens resource-planner.html in browser<br>
        2. Frontend loads and fetches data from API<br>
        3. Backend queries SQLite database<br>
        4. Data flows back: Database ‚Üí Backend ‚Üí Frontend ‚Üí User<br>
        5. When user makes changes, data flows: User ‚Üí Frontend ‚Üí Backend ‚Üí Database
    </div>

    <h2 style="text-align: center; margin-top: 50px;">üõ†Ô∏è Technology Stack</h2>

    <div class="tech-stack">
        <div class="tech-card">
            <h3>Frontend</h3>
            <p><strong>HTML5</strong> - Structure</p>
            <p><strong>CSS3</strong> - Styling & animations</p>
            <p><strong>JavaScript</strong> - Logic & interactions</p>
            <p><strong>Fetch API</strong> - HTTP requests</p>
        </div>

        <div class="tech-card">
            <h3>Backend</h3>
            <p><strong>Python 3</strong> - Programming language</p>
            <p><strong>Flask</strong> - Web framework</p>
            <p><strong>Flask-CORS</strong> - Cross-origin support</p>
            <p><strong>SQLite3</strong> - Database driver</p>
        </div>

        <div class="tech-card">
            <h3>Database</h3>
            <p><strong>SQLite</strong> - Embedded database</p>
            <p><strong>File-based</strong> - No server needed</p>
            <p><strong>ACID compliant</strong> - Data integrity</p>
            <p><strong>Zero configuration</strong> - Works out of the box</p>
        </div>

        <div class="tech-card">
            <h3>Communication</h3>
            <p><strong>REST API</strong> - Architecture style</p>
            <p><strong>JSON</strong> - Data format</p>
            <p><strong>HTTP</strong> - Protocol</p>
            <p><strong>CORS</strong> - Browser security</p>
        </div>
    </div>

    <h2 style="text-align: center; margin-top: 50px;">üìä Data Flow Example</h2>

    <div class="diagram">
        <h3>Example: Adding a New Person</h3>
        <ol style="line-height: 2;">
            <li>User clicks "+ Add Person" button</li>
            <li>User fills in name: "John Doe", role: "Consultant"</li>
            <li>User clicks "Add Person" submit button</li>
            <li>Frontend JavaScript captures form data</li>
            <li>Frontend sends POST request to http://localhost:5000/api/people</li>
            <li>Backend receives request, validates data</li>
            <li>Backend executes SQL: <code>INSERT INTO people (name, role) VALUES ('John Doe', 'Consultant')</code></li>
            <li>SQLite saves data to resource_planner.db file</li>
            <li>Backend returns JSON: <code>{"id": 4, "name": "John Doe", "role": "Consultant"}</code></li>
            <li>Frontend receives response</li>
            <li>Frontend adds new person to local data array</li>
            <li>Frontend re-renders the people list in sidebar</li>
            <li>User sees "John Doe" appear in the Team Members list</li>
        </ol>
    </div>

    <div class="note" style="margin-top: 50px;">
        <strong>üéØ Key Benefits of This Architecture:</strong><br><br>
        ‚úÖ <strong>Separation of Concerns</strong> - Frontend, backend, and database are independent<br>
        ‚úÖ <strong>Scalability</strong> - Easy to upgrade SQLite to PostgreSQL/MySQL later<br>
        ‚úÖ <strong>API-First</strong> - Backend can be used by mobile apps or other clients<br>
        ‚úÖ <strong>No Build Tools</strong> - Simple HTML/JS/Python, no webpack or complex setup<br>
        ‚úÖ <strong>Free & Open Source</strong> - All technologies are free to use<br>
        ‚úÖ <strong>Data Persistence</strong> - SQLite file preserves data between sessions
    </div>

    <div style="text-align: center; margin: 50px 0; padding: 30px; background: white; border-radius: 12px;">
        <h2>üöÄ Ready to Start?</h2>
        <p style="font-size: 18px; color: #666;">Open a terminal and run:</p>
        <code style="display: block; background: #f5f5f5; padding: 20px; border-radius: 8px; font-size: 16px; margin: 20px 0;">
            python3 backend.py
        </code>
        <p style="color: #666;">Then open <strong>resource-planner.html</strong> in your browser!</p>
    </div>
</body>
</html>
